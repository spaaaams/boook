# 빌더 패턴

> 복잡한 객체들을 <u>단계별로 생성</U>할 수 있도록 하는 디자인 패턴

같은 제작 코드를 사용하여 객체의 다양한 유형들과 표현을 제작할 수 있습니다.

# 문제 예시 ‼️

![](https://velog.velcdn.com/images/gazagaza/post/a343dae0-4eb4-4990-b271-497af6d8fea4/image.png)

`House` 객체를 만드는 문제 예시입니다.

기본적으로 집을 만들기 위해서 벽과 바닥, 문을 설치하는 등의 작업을 해야합니다.

하지만 추가적으로 뒤뜰이 있고, 난방 시스템, 배관 등 더 크고 현대적인 집을 원하면 어떻게 해야할 까요?

## 당장 생각해볼 수 있는 해결책 ❓

### 1. 기초 `House` 클래스를 확장하고 매개변수의 모든 조합을 포함하는 **자식 클래스**들의 집합을 만드는 방법

- 너무 많은 자식 클래스를 만들게 되는 문제점
- 새로운 매개변수(예: 현관 스타일)를 추가할 때마다 계층구조는 더 복잡해짐

```javascript
// 기초 House 클래스 정의
class House {
  constructor({ size, color, doorCount, windowCount }) {
    this.size = size; // 집의 크기
    this.color = color; // 집의 색상
    this.doorCount = doorCount; // 문의 개수
    this.windowCount = windowCount; // 창문의 개수
  }

  // 여러 메서드들..
}

// House 클래스를 확장하는 자식 클래스들
class SmallWhiteHouse extends House {
  constructor({ doorCount, windowCount }) {
    super({ size: 'small', color: 'white', doorCount, windowCount });
  }
}

class LargeBlueHouse extends House {
  constructor({ doorCount, windowCount }) {
    super({ size: 'large', color: 'blue', doorCount, windowCount });
  }
}

// ...
```

### 2. 자식 클래스들을 늘리지 않는 접근 방법

![](https://velog.velcdn.com/images/gazagaza/post/5a7f456d-7620-4eb3-a666-4e6fb45445ec/image.png)

`House` 클래스에 `House` 객체를 제어하는 <u>모든 가능한 매개변수</u>를 포함한 거대한 생성자를 만드는 것입니다.

하지만 위에서 생각해본 1번 방식의 문제점만 해결할 뿐 다른 문제가 발생합니다.

- 대부분의 매개변수가 사용되지 않을 가능성이 매우 큼
- 즉, 생성자 호출들의 코드가 불필요하게 방대해짐

```javascript
class House {
  constructor(windows, doors, rooms, hasGarage, hasSwimPool, hasStatues, hasGarden) {
    // ...
  }
}

const house1 = new House(4, 2, 4, true, null, null, null)
const house2 = new House(4, 2, 4  true, true, true, true)
```

## 좋은 해결책 💡

빌더 패턴을 사용하여 해결할 수 있습니다.

> 빌더 패턴은 복잡한 객체들을 단계별로 생성할 수 있도록 합니다.

자신의 클래스에서 **객체 생성** 코드를 추출하여 *builders*라는 별도의 객체들로 이동하도록 할 수 있습니다.

![](https://velog.velcdn.com/images/gazagaza/post/e3926cf5-4981-4438-98b3-51086b936b37/image.png)

1. `Builder` 인터페이스는 모든 유형의 빌더들에 공통적인 제품 생성 단계들을 선언
2. **구상 빌더**들은 생성 단계들의 다양한 **구현**을 제공
3. **제품들**(Product)은 그 결과로 나온 객체들
4. `Director` 클래스는 생성 단계들을 호출하는 순서를 정의
5. **클라이언트**는 빌더 객체들 중 하나를 `Director`와 연결해야함

// Todo: 예제 추가 및 코드 추가 하기...
