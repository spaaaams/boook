# 🌉 브리지 패턴 (Bridge Pattern)

**브리지**는 큰 클래스 또는 밀접하게 관련된 클래스들의 집합을 `두 개의 개별 계층구조​(추상화 및 구현)`​로 나눈 후 각각 독립적으로 개발할 수 있도록 하는 구조 디자인 패턴입니다.

<br />

## ☹️ 문제 직면!

`Circle`및 `Square`라는 한 쌍의 자식 클래스들이 있는 `Shape`클래스가 있다고 가정해 봅시다.
<br />
이 클래스 계층 구조를 확장하여 *색상*을 도입하기 위해 `Red`및 `Blue`모양들의 자식 클래스들을 만들
계획입니다.
<br /> 
그러나 이미 두 개의 자식 클래스가 있으므로 `BlueCircle`및 `RedSquare`와 같은 네
가지의 클래스 조합을 만들어야 합니다.
<br />

<center>
  <img width="480" alt="브리지 패턴 문제" src="https://refactoring.guru/images/patterns/diagrams/bridge/problem-ko.png?id=d6a269defe845caae2181e1568256f16" />
  <p>❗클래스 조합들의 수는 기하급수적으로 증가하게됩니다.</p>
</center>  

<br />

새로운 모양 유형들과 색상 유형들을 추가할 때마다 계층 구조는 *기하급수적으로 증가*하는 문제가 발생합니다.
<br />
예를 들어, 삼각형 모양을 추가하려면 각 색상별로 하나씩 두 개의 자식 클래스들을 도입해야 합니다.
<br />
그리고 그 후에 또 새 색상을 추가하려면 각 모양 유형별로 하나씩 세 개의 자식 클래스를 만들어야 합니다.
<br />
유형들이 많아지면 많아질수록 코드는 점점 복잡해집니다.

<br />

## 🧐 해결책

> _🔍 문제점 파악_ <br />
>
> 해당 상황은 **모양**과 **색상**의 두 가지 독립적인 차원에서 모양 클래스들을 확장하려고 하기 때문에 발생합니다.
> <br />
> 이것은 클래스 상속과 관련된 매우 일반적인 문제입니다.

<br />

해당 문제점은 `브리지 패턴`을 통해 *상속에서 객체 합성으로 전환*하여 문제를 해결할 수 있습니다.
<br />
이는 클래스의 여러 차원 중 *하나를 별도의 클래스 계층 구조로 분리*하는 것을 의미합니다.
<br />
결과적으로, 원래 클래스들이 한 클래스 내에서 모든 상태와 행동들을 갖는 대신 *새 계층구조의 객체를 참조하도록 하는 것*입니다.
<br />

<center>
  <img width="480" alt="브리지 패턴이 제시하는 해결책" src="https://refactoring.guru/images/patterns/diagrams/bridge/solution-ko.png?id=5e4d726b4474819783501d71f7ce96f9" />
  <p>✔️클래스 계층구조의 기하급수적인 증가를 방지하기 위해 여러 관련 계층구조들로 변환할 수 있습니다.</p>
</center>  

<br />

1. 색상 관련 기능을 `Red`및 `Blue`라는 두 개의 자식 클래스들이 있는 `Color`클래스로 추출할 수 있습니다.
2. 그 후 `Shape`클래스는 `Color`객체들 중 하나를 가리키는 참조 필드를 받습니다.
3. 이제 `Shape`은 연결된 `Color`객체에 모든 색상 관련 작업을 위임할 수 있습니다.

이 참조는 `Shape`및 `Color`클래스들 사이의 `다리(Bridge)`역할을 합니다.
<br />
이제부터 새색상들을 추가할 때 Shape 계층구조를 변경할 필요가 없으며 해당 문제가 해결이 됩니다.
<br />
