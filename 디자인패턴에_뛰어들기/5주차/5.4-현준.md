# λ³µν•©μ²΄ ν¨ν„΄ (κ°μ²΄ νΈλ¦¬, Composite)

> **π’΅λ³µν•©μ²΄ ν¨ν„΄μ΄λ€?**
>
> **λ³µν•©μ²΄** ν¨ν„΄μ€ κ°μ²΄λ“¤μ„ **νΈλ¦¬ κµ¬μ΅°**λ“¤λ΅ κµ¬μ„±ν• ν›„, μ΄λ¬ν• κµ¬μ΅°λ“¤κ³Ό κ°λ³„ κ°μ²΄λ“¤μ²λΌ μ‘μ—…ν•  μ μλ” ν¨ν„΄μ…λ‹λ‹¤.

## μμ‹ μƒν™©

![](https://velog.velcdn.com/images/gazagaza/post/72ab6b67-364f-43c5-a69d-c5f404944561/image.png)

μλ¥Ό λ“¤μ–΄ `μ ν’λ“¤`κ³Ό `μƒμλ“¤`μ΄λΌλ” λ‘ κ°€μ§€ μ ν•μ κ°μ²΄λ“¤μ΄ μλ‹¤κ³  κ°€μ •ν•΄λ΄…μ‹λ‹¤.

`μƒμ`μ—λ” μ—¬λ¬κ°μ `μ ν’λ“¤`κ³Ό `μ‘μ€ μƒμλ“¤`μ΄ ν¬ν•¨λ  μ μμµλ‹λ‹¤.

μ΄ `μ‘μ€ μƒμλ“¤` μ•μ— λ λ‹¤λ¥Έ μƒμμ™€ μ ν’μ΄ κ³„μ†ν•΄μ„ ν¬ν•¨λ  μλ„ μμ£ .

μ„ μμ‹μ²λΌ νλ¬κ°€λ‹¤ λ³΄λ©΄ `νΈλ¦¬ κµ¬μ΅°`λ΅ ν•μ„±μ΄ λ©λ‹λ‹¤.

## μ¶”κ°€ μ”κµ¬ μ‚¬ν•­

μ£Όλ¬Έλ“¤μ—λ” ν¬μ¥μ΄ μ—†λ” λ‹¨μν• μ ν’λ“¤κ³Ό μ ν’λ“¤λ΅ μ±„μ›μ§„ μƒμλ“¤ λ° λ‹¤λ¥Έ μƒμλ“¤μ΄ ν¬ν•¨λ  μ μμµλ‹λ‹¤.

μ΄λ¬ν• μ£Όλ¬Έλ“¤μ **μ΄κ°€κ²©**μ„ μ–΄λ–»κ² κ³„μ‚°ν•  μ μμ„κΉμ”?

### μ§μ ‘μ μΌλ΅ μ ‘κ·Όν•λ” λ°©λ²•

1. λ¨λ“  μƒμλ¥Ό μ—΄κ³  λ‚΄λ¶€μ λ¨λ“  μ ν’μ„ μ‚΄ν΄λ³Έλ‹¤.

2. λ‹¤μμΌλ΅ κ°€κ²©μ ν•©κ³„λ¥Ό κ³„μ‚°ν•λ‹¤.

> ν„μ‹¤ μ„Έκ³„μ—μ„  μ‰¬μΈ μ μμΌλ‚ ν”„λ΅κ·Έλ¨μ—μ„ κµ¬ν„ν•λ ¤ ν•λ©΄ κ°„λ‹¨ν•μ§€ μ•μµλ‹λ‹¤.

## ν•΄κ²°μ±…

μ΄λ΄ λ• `λ³µν•©μ²΄` ν¨ν„΄μΌλ΅ ν•΄κ²°ν•  μ μμµλ‹λ‹¤.

1. μ΄κ°€κ²©μ„ κ³„μ‚°ν•λ” λ©”μ„λ“λ¥Ό μ„ μ–Έν•λ” μΈν„°νμ΄μ¤ κµ¬ν„

2. ν•΄λ‹Ή μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄ `μ ν’λ“¤` λ° `μƒμλ“¤` ν΄λμ¤λ¥Ό κµ¬ν„

### ν•΄λ‹Ή λ©”μ„λ“λ” μ–΄λ–»κ² μ‘λ™ν• κΉ? π§

- `μ ν’`: λ‹¨μν μ ν’ κ°€κ²©μ„ λ°ν™
- `μƒμ`: μƒμμ— ν¬ν•¨λ κ° ν•­λ©μ„ μ‚΄ν΄λ³΄κ³  κ°€κ²©μ„ ν™•μΈν• λ’¤ **μ΄ κ°€κ²©μ„ λ°ν™**

- ν•­λ©λ“¤ μ¤‘ μƒμκ°€ μλ‹¤λ©΄ κ³„μ†ν•΄μ„ λ°λ³µλ  κ²ƒμ„

### μ‹¤μ μƒν™©μ—μ„ μμ‹ π”

![](https://velog.velcdn.com/images/gazagaza/post/35943e32-89d4-4956-b520-fe4be5c697cc/image.png)

1. κµ°λ€ β΅οΈ μ—¬λ¬ μ‚¬λ‹¨μΌλ΅ κµ¬μ„±
2. μ‚¬λ‹¨ β΅οΈ μ—¬λ‹¨μ μ§‘ν•©
3. μ—¬λ‹¨ β΅οΈμ†λ€μ μ§‘ν•©
4. μ†λ€ β΅οΈ λ¶„λ€λ΅ λ‚λ‰μ–΄μ§
5. λ¶„λ€ β΅οΈμ‹¤μ  κµ°μΈλ“¤μ μ‘μ€ μ§‘ν•©

λ…λ Ήλ“¤μ€ κ³„μΈµκµ¬μ΅°μ μµμƒμ„μ—μ„λ¶€ν„° λ§μ§€λ§‰κΉμ§€ λ‚΄λ ¤μµλ‹λ‹¤.

> μ¦‰, λ¨λ“  λ³‘μ‚¬κ°€ μμ‹ μ΄ μν–‰ν•΄μ•Ό ν•  μ‘μ—…μ„ μ•κ² λ  λ•κΉμ§€ κ° ν•μ„ κ³„μΈµμΌλ΅ μ „λ‹¬λ©λ‹λ‹¤.

## κΈ°λ³Έ κµ¬μ΅° π“‚

![](https://velog.velcdn.com/images/gazagaza/post/8ab409f9-01ae-4757-9ced-d516dd9bb914/image.png)

1. `Component`: νΈλ¦¬μ λ‹¨μ μ”μ†λ“¤κ³Ό λ³µμ΅ν• μ”μ†λ“¤ λ¨λ‘μ— <U>κ³µν†µμ μΈ μ‘μ—…</U>μ„ μ„¤λ…

2. `Leaf`(μ): νΈλ¦¬μ κΈ°λ³Έ μ”μ†μ΄λ©° **ν•μ„μ”μ†κ°€ μ—†μ**

   - λ€λ¶€λ¶„μ μ‹¤μ  μ‘μ—…λ“¤μ„ μν–‰

3. `Composite or Container`: ν•μ„ μ”μ†λ“¤μ΄ μλ” μ”μ†.

   - μ”μ²­μ„ μ „λ‹¬ λ°›μΌλ©΄ μ‘μ—…μ„ ν•μ„ μ”μ†λ“¤μ—κ² μ„μ„
   - μ¤‘κ°„ κ²°κ³Όλ“¤μ„ μ²λ¦¬ν• λ‹¤μ μµμΆ… κ²°κ³Όλ“¤μ„ ν΄λΌμ΄μ–ΈνΈμ—κ² λ°ν™

4. `Client`: `Component` μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄ λ¨λ“  μ”μ†λ“¤κ³Ό μ‘λ™

## μμ  μ½”λ“ π“–

```typescript
interface Component {
  getPrice(): number;
}

class Product implements Component {
  constructor(private name: string, private price: number) {}

  getPrice(): number {
    return this.price;
  }
}

class Box implements Component {
  private items: Component[] = [];

  constructor(private name: string, private packagingCost: number) {}

  addItem(item: Component) {
    this.items.push(item);
  }
  removeItem(item: Component) {
    this.items = this.items.filter((i) => i !== item);
  }

  getPrice(): number {
    return (
      this.packagingCost +
      this.items.reduce((acc, item) => acc + item.getPrice(), 0)
    );
  }
}

const smallProduct = new Product('Small Product', 10);
const smallBox = new Box('Small Box', 1);

smallBox.addItem(smallProduct); // 11

const bigProduct = new Product('Big Product', 100);
const bigBox = new Box('Big Box', 5);

bigBox.addItem(bigProduct);
bigBox.addItem(smallBox);

console.log(bigBox.getPrice()); // 116 μ¶λ ¥
```

## μ–Έμ  μ μ©ν•λ©΄ μΆ‹μ„κΉ? π§

- λ‚λ¬΄μ™€ κ°™μ€ **κ°μ²΄ κµ¬μ΅°**λ¥Ό κµ¬ν„ν•΄μ•Ό ν•  λ•
- ν΄λΌμ΄μ–ΈνΈ μ½”λ“κ°€ λ‹¨μ μ”μ†λ“¤κ³Ό λ³µν•© μ”μ†λ“¤μ„ λ¨λ‘ **κ· μΌν•κ²** μ²λ¦¬ν•λ„λ΅ ν•κ³  μ‹¶μ„ λ•

## μ μ© λ°©λ²• μ •λ¦¬ π“•

1. νΈλ¦¬ κµ¬μ΅°λ΅ ν‘ν„λ  μ μλ”μ§€ ν™•μΈ

2. λ‹¨μ μ”μ†μ™€ μ»¨ν…μ΄λ„λ΅ λ¶„λ¦¬

   - μ»¨ν…μ΄λ„λ” λ‹¤λ¥Έ μ»¨ν…μ΄λ„λ“¤κ³Ό λ‹¨μ μ”μ†λ“¤μ„ **λ¨λ‘ ν¬ν•¨**ν•  μ μμ–΄μ•Όν•¨

3. **λ‹¨μ μ”μ†**λ¥Ό λ‚νƒ€λ‚΄λ” μ ν΄λμ¤ μƒμ„±

4. μ»¨ν…μ΄λ„ ν΄λμ¤λ¥Ό λ§λ“  ν›„, **ν•μ„ μ”μ†λ“¤μ— λ€ν• μ°Έμ΅°**λ¥Ό μ €μ¥ν•κΈ° μ„ν• λ°°μ—΄ ν•„λ“ μƒμ„±

   - λ°°μ—΄μ€ μκ³Ό μ»¨ν…μ΄ν„°λ¥Ό λ¨λ‘ μ €μ¥ν•  μ μμ–΄μ•Όν•¨

5. μ»¨ν…μ΄λ„μ—μ„ μμ‹ μ”μ†λ“¤μ„ **μ¶”κ°€** λ° **μ κ±°**ν•λ” λ©”μ„λ“ μ •μ

## μ¥λ‹¨μ  π’«

### μ¥μ  π‘

- λ‹¤ν•μ„±κ³Ό μ¬κ·€λ¥Ό μ λ¦¬ν•κ² μ‚¬μ©ν•΄μ„ **νΈλ¦¬κµ¬μ΅°λ¥Ό νΈλ¦¬ν•κ² μ‘μ—…** κ°€λ¥
- **κ°λ°© νμ‡„ μ›μΉ™** μ μ© κ°€λ¥
  - κΈ°μ΅΄ μ½”λ“λ¥Ό ν›Όμ†ν•μ§€ μ•κ³  μƒλ΅μ΄ μ”μ†λ¥Ό μ¶”κ°€ν•  μ μμ

### λ‹¨μ  π‘

- κΈ°λ¥μ΄ λ„λ¬΄ λ‹¤λ¥Έ ν΄λμ¤λ“¤μ—κ²λ” κ³µν†µ μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•κΈ° μ–΄λ ¤μ›€
- μ»΄ν¬λ„νΈ μΈν„°νμ΄μ¤λ¥Ό κ³Όλ„ν•κ² μΌλ°ν™” ν•΄μ•Όν•λ” κ²½μ°κ°€ λ°μƒν•μ—¬ μ΄ν•΄ν•κΈ° μ–΄λ ¤μΈ λ§λ“¤ μ μμ
